!function(){"use strict";angular.module("angular-todo",["ui.router","LocalStorageModule"]).config(function(a,b){b.otherwise("/"),a.state("todo",{url:"/",templateUrl:"index.html",views:{"new-item":{templateUrl:"src/views/new-item.tpl.html",controller:"NewItemController as newCtrl"},"list-items":{templateUrl:"src/views/list-items.tpl.html",controller:"ListItemsController as listCtrl"}}})})}(),function(){angular.module("angular-todo").factory("Item",function(){return function(a){this.id=Date.now(),this.content=a||"No content",this.timeUpdated=Date.now(),this.completed=!1}})}(),function(){angular.module("angular-todo").service("Items",function(a,b){function c(){return b.get("toDoItems")||[]}function d(a){b.set("toDoItems",a)}this.deleteCompleted=function(){var a=c(),b=[];a.forEach(function(a){a.completed===!1&&b.push(a)}),d(b)},this.updateItems=function(a){d(a)},this.fetch=function(){return c()},this.create=function(b){var e=c(),f=new a(b);e.push(f),d(e)},this.reset=function(){var a=[];d(a)},this.delete=function(a){var b=c(),e=[];b.forEach(function(b){b.id!==a.id&&e.push(b)}),d(e)}})}(),function(){angular.module("angular-todo").controller("ListItemsController",function(a,b){function c(a){var b=0;return a.forEach(function(a){a.completed||b++}),b}this.items=a.fetch()||[{content:"No past items"}],this.numItems=this.items.length,this.numIncomplete=c(this.items),this.sortType="all",this.sortBy={key:"$",exact:!1,value:""},$(".new-todo").focus(),this.deleteCompleted=function(){a.deleteCompleted(),b.reload()},this.updateItems=function(c){a.updateItems(this.items),b.reload()},this.delete=function(c){a.delete(c),b.reload()},this.toggleComplete=function(d){d.completed=!d.completed,this.numIncomplete=c(this.items),a.updateItems(this.items),b.reload()}})}(),function(){angular.module("angular-todo").controller("NewItemController",function(a,b){this.newItemContent="",this.addNewItem=function(){a.create(this.newItemContent),this.newItemContent="",b.reload()}})}();